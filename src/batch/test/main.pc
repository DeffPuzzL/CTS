/**************************************************************************************************
	文 件 名：main.pc
	代码作者：DeffPuzzL
	编写版本：
	创建日期：2016-07-14
	功能描述：业务测试程序Demo
 **************************************************************************************************/
#include    "face.h"
#define     SQLCA_STORAGE_CLASS     extern
#include    "sqlca.h"

EXEC SQL BEGIN DECLARE SECTION;
#include    "tbl_mcht_settle_dtl.h"
EXEC SQL END DECLARE SECTION;


/**************************************************************************************************
	函 数 名：main
	功能描述：进程监控主模块
	返回说明：
		RC_SUCC         --成功
		RC_FAIL         --失败
 **************************************************************************************************/
int		main(int argc, char *argv[])
{
	long	i = 0;
    EXEC SQL BEGIN DECLARE SECTION;
    char    stBuffer[100];
    EXEC SQL END DECLARE SECTION;

    if(RC_SUCC != lDbsConnect(DBS_BATCH))
        return RC_FAIL;

	memset(stBuffer, 0, sizeof(stBuffer));
    EXEC SQL SELECT ID, SETTLE_DATE INTO :stBuffer, :stBuffer+20 FROM tbl_mcht_settle_dtl WHERE 
		ID = '0170622R175861995393';
    if(SQLCODE)
    {
        SYSError(RET_DATABASE, "查询记录失败, err:(%d)(%s)", SQLCODE, sDbsError());
        return ;
    }

	fprintf(stdout, "stBuff:%s\n", stBuffer);
	for(i = 0; i < sizeof(stBuffer); i ++)
		fprintf(stdout, "%c", stBuffer[i]);	 
	fprintf(stdout, "\n\n");

    vDbsDisconnect();

	return RC_SUCC;
}

/**************************************************************************************************
 * 	code end
 **************************************************************************************************/
